<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
rel="stylesheet"
integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
crossorigin="anonymous"
/>
<title>Bootstrap container</title>
</head>
<body>
<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
crossorigin="anonymous"
></script>

<div class= "container card mt-5 p-2 shadow">
    <h1>Waziup API with Bootstrap</h1>
    <div class="row p-2">
        <div class ="col-sm-4">
            <h2>Sensor 1</h2>
            <p id="t1"> Loading...</p>
        </div>
        <div class = "col-sm-4">
            <h2>Sensor 2</h2>
            <p id="t2"> Loading...</p>
        </div>
        <div class = "col-sm-4">
            <h2>Sensor 3</h2>
            <p id = "t3"> Loading...</p>
        </div>
    </div>
</div>



<script>
    const headers = {
    "Content-Type": "application/json",
  };
  
    const getTemperature = async () => {
      try {
      //You can create your own devices on the wazicloud dashboard and add sensors
      const fetchTemperatureValue1 = await fetch(
      "https://api.waziup.io/api/v2/devices/bootstrap/sensors/TC/values"
      );
      const fetchTemperatureValue2 = await fetch(
      "https://api.waziup.io/api/v2/devices/bootstrap/sensors/TC2/values"
      );
      const fetchTemperatureValue3 = await fetch(
      "https://api.waziup.io/api/v2/devices/bootstrap/sensors/TC3/values"
      );
      
      const res1 = await fetchTemperatureValue1.json();
      const res2 = await fetchTemperatureValue2.json();
      const res3 = await fetchTemperatureValue3.json();
      
      const val1 = res1[0].value;
      const val2 = res2[0].value;
      const val3 = res3[0].value;
      
      document.getElementById("t1").innerHTML = `Value: ${val1} &degC`;
      document.getElementById("t2").innerHTML = `Value: ${val2} &degC`;
      document.getElementById("t3").innerHTML = `Value: ${val3} &degC`;
      } catch (error) {
      console.log(error);
    }
  };
  
  getTemperature();
  </script>
  



</body>
</html>

